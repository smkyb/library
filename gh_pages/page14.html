<pre>#define PROBLEM "https://judge.yosupo.jp/problem/point_set_range_composite_large_array"

#include "../../../_initialize.cpp"
#include "../dynamic_segtree.cpp"

struct S{
    mint9 first, second;
    S() : first(1), second(0) {}
    S(const mint9 &l, const mint9 &r) : first(l), second(r) {}
    S(int l, int r) : first(mint9::raw(l)), second(mint9::raw(r)) {}
};

S op(const S& l, const S& r){
    return {r.first*l.first, r.first*l.second + r.second};
}
S e(){
    return {1, 0};
}

signed main(){
    int n, q;
    cin >> n >> q;
    dynamic_segtree<int, S, op, e> seg;
    seg.reserve(q);
    
    for(int i = 0; i < q; i++){
        int t, p, c, d;
        cin >> t >> p >> c >> d;
        if(t == 0){
            seg.set(p, {c, d});
        } else {
            S ans = seg.prod(p, c);
            cout << (ans.first*d + ans.second).val() << '\n';
        }
    }
}
</pre>