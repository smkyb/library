<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>smkyb's library</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.1/github-markdown.min.css"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
<style>
    body { margin: 60px; font-family:'Noto Sans JP', Arial, sans-serif; font-size:large; }
    .markdown-body { box-sizing: border-box; max-width: 900px; margin: 0 auto; }
    .markdown-body pre { padding: 16px; overflow: auto; }
</style>
</head>
<body>
<article id="md_content" class="markdown-body">
# 座標圧縮
座標圧縮をします。  
複数のvectorを同一視して処理できます*1  
<br>
```cpp
vector<T> compression(T& v1, Args&... args)
```
**・ 概要 :** 座標圧縮をし、要素一覧(unique, sorted)を返す  
**・ 制約 :** 型が一致する  
**・ 計算量 :** Θ(N log N)  
<br><br>
*1  
{1, 2, 3, 4, 5, 4}, {2, 4, 6, 8, 10, 2}  
が  
{0, 1, 2, 3, 4, 3}, {1, 3, 5, 6, 7, 1}  
になる
</article>
<pre>
void _compression_merge(...){}
template&lt;typename T, typename... Args&gt;
void _compression_merge(vector&lt;T&gt;&amp; C, vector&lt;T&gt;&amp; v, Args&amp;... args){
    for(auto&amp; i : v) C.push_back(i);
    _compression_merge(C, args...);
}
void _compression_apply(...){}
template&lt;typename T, typename... Args&gt;
void _compression_apply(vector&lt;T&gt;&amp; C, vector&lt;T&gt;&amp; v, Args&amp;... args){
    for(auto&amp; i : v) i = lower_bound(C.begin(), C.end(), i) - C.begin();
    _compression_apply(C, args...);
}
template&lt;typename T, typename... Args&gt;
vector&lt;T&gt; compression(vector&lt;T&gt;&amp; v, Args&amp;... args){
    vector&lt;T&gt; C;
    _compression_merge(C, v, args...);
    sort(C.begin(), C.end());
    C.erase(unique(C.begin(), C.end()), C.end());
    _compression_apply(C, v, args...);
    return C;
}</pre>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
    marked.setOptions({ gfm: true, breaks: true, headerIds: true, mangle: false, highlight: (code, lang) => { if (lang && hljs.getLanguage(lang)) { return hljs.highlight(code, { language: lang }).value; } return hljs.highlightAuto(code).value; } });
    const el = document.getElementById("md_content");
    el.innerHTML = marked.parse(el.textContent);
</script>
</body>
</html>